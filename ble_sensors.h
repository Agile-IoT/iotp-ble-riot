#include <stdio.h>
#include <string.h>
#include <assert.h>
#include "nimble_riot.h"

#include "nimble/nimble_port.h"
#include "host/ble_hs.h"
#include "host/util/util.h"
#include "host/ble_uuid.h"
#include "services/gap/ble_svc_gap.h"
#include "services/gatt/ble_svc_gatt.h"

#define GATT_DEVICE_INFO_UUID                   0x180A
#define GATT_MANUFACTURER_NAME_UUID             0x2A29
#define GATT_MODEL_NUMBER_UUID                  0x2A24

/* UUIDs defined by Texas Instruments */

#define TEMPERATURE_SERV_UUID 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, \
0x00, 0x40, 0x51, 0x04, 0x00, 0xAA, 0x00, 0xF0

#define TEMPERATURE_DATA_UUID 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, \
0x00, 0x40, 0x51, 0x04, 0x01, 0xAA, 0x00, 0xF0

#define TEMPERATURE_CONF_UUID 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, \
0x00, 0x40, 0x51, 0x04, 0x02, 0xAA, 0x00, 0xF0

#define TEMPERATURE_PERI_UUID 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, \
0x00, 0x40, 0x51, 0x04, 0x03, 0xAA, 0x00, 0xF0

#define HUM_SERV_UUID 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, \
0x00, 0x40, 0x51, 0x04, 0x20, 0xAA, 0x00, 0xF0

#define  HUM_DATA_UUID 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, \
0x00, 0x40, 0x51, 0x04, 0x21, 0xAA, 0x00, 0xF0

#define  HUM_CONF_UUID 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, \
0x00, 0x40, 0x51, 0x04, 0x22, 0xAA, 0x00, 0xF0

#define  HUM_PERI_UUID 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, \
0x00, 0x40, 0x51, 0x04, 0x23, 0xAA, 0x00, 0xF0

#define PRESS_SERV_UUID 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, \
0x00, 0x40, 0x51, 0x04, 0x40, 0xAA, 0x00, 0xF0

#define  PRESS_DATA_UUID 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, \
0x00, 0x40, 0x51, 0x04, 0x41, 0xAA, 0x00, 0xF0

#define  PRESS_CONF_UUID 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, \
0x00, 0x40, 0x51, 0x04, 0x42, 0xAA, 0x00, 0xF0

#define  PRESS_PERI_UUID 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, \
0x00, 0x40, 0x51, 0x04, 0x44, 0xAA, 0x00, 0xF0

#define OPT_SERV_UUID 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, \
0x00, 0x40, 0x51, 0x04, 0x70, 0xAA, 0x00, 0xF0

#define  OPT_DATA_UUID 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, \
0x00, 0x40, 0x51, 0x04, 0x71, 0xAA, 0x00, 0xF0

#define  OPT_CONF_UUID 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, \
0x00, 0x40, 0x51, 0x04, 0x72, 0xAA, 0x00, 0xF0

#define  OPT_PERI_UUID 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, \
0x00, 0x40, 0x51, 0x04, 0x73, 0xAA, 0x00, 0xF0

#define IO_SERV_UUID 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, \
0x00, 0x40, 0x51, 0x04, 0x64, 0xAA, 0x00, 0xF0

#define IO_DATA_UUID 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, \
0x00, 0x40, 0x51, 0x04, 0x65, 0xAA, 0x00, 0xF0

#define IO_CONF_UUID 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, \
0x00, 0x40, 0x51, 0x04, 0x66, 0xAA, 0x00, 0xF0

static const ble_uuid128_t gatt_svr_chr_temp_serv_uuid =
        BLE_UUID128_INIT(TEMPERATURE_SERV_UUID);

static const ble_uuid128_t gatt_svr_chr_temp_data_uuid =
        BLE_UUID128_INIT(TEMPERATURE_DATA_UUID);

 static const ble_uuid128_t gatt_svr_chr_temp_conf_uuid =
        BLE_UUID128_INIT(TEMPERATURE_CONF_UUID);

static const ble_uuid128_t gatt_svr_chr_temp_peri_uuid =
        BLE_UUID128_INIT(TEMPERATURE_PERI_UUID); 

static const ble_uuid128_t gatt_svr_chr_hum_serv_uuid =
        BLE_UUID128_INIT(HUM_SERV_UUID);

static const ble_uuid128_t gatt_svr_chr_hum_data_uuid =
        BLE_UUID128_INIT(HUM_DATA_UUID);

 static const ble_uuid128_t gatt_svr_chr_hum_conf_uuid =
        BLE_UUID128_INIT(HUM_CONF_UUID);

static const ble_uuid128_t gatt_svr_chr_hum_peri_uuid =
        BLE_UUID128_INIT(HUM_PERI_UUID); 

static const ble_uuid128_t gatt_svr_chr_press_serv_uuid =
        BLE_UUID128_INIT(PRESS_SERV_UUID);

static const ble_uuid128_t gatt_svr_chr_press_data_uuid =
        BLE_UUID128_INIT(PRESS_DATA_UUID);

 static const ble_uuid128_t gatt_svr_chr_press_conf_uuid =
        BLE_UUID128_INIT(PRESS_CONF_UUID);

static const ble_uuid128_t gatt_svr_chr_press_peri_uuid =
        BLE_UUID128_INIT(PRESS_PERI_UUID); 
        
static const ble_uuid128_t gatt_svr_chr_opt_serv_uuid =
        BLE_UUID128_INIT(OPT_SERV_UUID);

static const ble_uuid128_t gatt_svr_chr_opt_data_uuid =
        BLE_UUID128_INIT(OPT_DATA_UUID);

 static const ble_uuid128_t gatt_svr_chr_opt_conf_uuid =
        BLE_UUID128_INIT(OPT_CONF_UUID);

static const ble_uuid128_t gatt_svr_chr_opt_peri_uuid =
        BLE_UUID128_INIT(OPT_PERI_UUID); 
        
static const ble_uuid128_t gatt_svr_chr_io_serv_uuid =
        BLE_UUID128_INIT(IO_SERV_UUID);

static const ble_uuid128_t gatt_svr_chr_io_data_uuid =
        BLE_UUID128_INIT(IO_DATA_UUID);

static const ble_uuid128_t gatt_svr_chr_io_conf_uuid =
        BLE_UUID128_INIT(IO_CONF_UUID);

int gatt_svr_init(void);

int ble_sensor_init(void);

